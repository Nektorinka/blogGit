{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/GIT/blogGit/blogGit/src/components/ArticleList/ArticleList.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Pagination, Spin, Alert } from 'antd';\nimport 'antd/dist/antd.css';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport './articleList.scss';\nimport Article from '../Article/Article';\nimport * as actions from '../../Redux/Actions/actions';\n\nfunction renderArticles(list) {\n  if (list) {\n    return list.map(article => {\n      return /*#__PURE__*/React.createElement(Article, {\n        key: article.slug,\n        data: article,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13,\n          columnNumber: 11\n        }\n      });\n    });\n  }\n\n  return null;\n}\n\nfunction ArticleList({\n  articleList,\n  loadArticles,\n  mainState\n}) {\n  const [page, setPage] = useState(1);\n  useEffect(() => {\n    if (mainState.isLogged) {\n      const token = mainState.loggedInfo.user.token;\n      loadArticles(page, token);\n    } else {\n      loadArticles(page);\n    }\n  }, [page]);\n  const {\n    articles\n  } = articleList.articlesState;\n\n  function onChange(pageNumber) {\n    setPage(pageNumber);\n  }\n\n  if (articles.isError) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"articles\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Alert, {\n      message: \"\\u041F\\u0440\\u043E\\u0438\\u0437\\u043E\\u0448\\u043B\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430. \\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u0435 \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",\n      type: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 5\n      }\n    }));\n  }\n\n  if (!articleList.isLoading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"articles\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 4\n      }\n    }, renderArticles(articles), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"paginator\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Pagination, {\n      size: \"small\",\n      total: 500,\n      onChange: onChange,\n      showSizeChanger: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 6\n      }\n    })));\n  } else {\n    const antIcon = /*#__PURE__*/React.createElement(LoadingOutlined, {\n      style: {\n        fontSize: 56\n      },\n      spin: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 19\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"articles\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Spin, {\n      indicator: antIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"paginator\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Pagination, {\n      size: \"small\",\n      total: 500,\n      showSizeChanger: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 6\n      }\n    })));\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    articleList: state.articalListReducer,\n    mainState: state.mainReducer\n  };\n};\n\nexport default connect(mapStateToProps, actions)(ArticleList);","map":{"version":3,"sources":["/Users/apple/Documents/GIT/blogGit/blogGit/src/components/ArticleList/ArticleList.jsx"],"names":["React","useEffect","useState","connect","Pagination","Spin","Alert","LoadingOutlined","Article","actions","renderArticles","list","map","article","slug","ArticleList","articleList","loadArticles","mainState","page","setPage","isLogged","token","loggedInfo","user","articles","articlesState","onChange","pageNumber","isError","isLoading","antIcon","fontSize","mapStateToProps","state","articalListReducer","mainReducer"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Pagination, Spin, Alert } from 'antd';\nimport 'antd/dist/antd.css';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport './articleList.scss';\nimport Article from '../Article/Article';\nimport * as actions from '../../Redux/Actions/actions';\n\nfunction renderArticles(list) {\n\tif (list) {\n\t\treturn list.map((article) => {\n\t\t\treturn <Article key={article.slug} data={article} />;\n\t\t});\n\t}\n\treturn null;\n}\n\nfunction ArticleList({ articleList, loadArticles, mainState }) {\n\tconst [ page, setPage ] = useState(1);\n\tuseEffect(\n\t\t() => {\n\t\t\tif (mainState.isLogged) {\n\t\t\t\tconst token = mainState.loggedInfo.user.token;\n\t\t\t\tloadArticles(page, token);\n\t\t\t} else {\n\t\t\t\tloadArticles(page);\n\t\t\t}\n\t\t},\n\t\t[ page ]\n\t);\n\n\tconst { articles } = articleList.articlesState;\n\n\tfunction onChange(pageNumber) {\n\t\tsetPage(pageNumber);\n\t}\n\n\tif (articles.isError) {\n\t\treturn (\n\t\t\t<div className=\"articles\">\n\t\t\t\t<Alert message=\"Произошла ошибка. Обновите страницу\" type=\"error\" />\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif (!articleList.isLoading) {\n\t\treturn (\n\t\t\t<div className=\"articles\">\n\t\t\t\t{renderArticles(articles)}\n\t\t\t\t<div className=\"paginator\">\n\t\t\t\t\t<Pagination size=\"small\" total={500} onChange={onChange} showSizeChanger={false} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\tconst antIcon = <LoadingOutlined style={{ fontSize: 56 }} spin />;\n\t\treturn (\n\t\t\t<div className=\"articles\">\n\t\t\t\t<Spin indicator={antIcon} />\n\t\t\t\t<div className=\"paginator\">\n\t\t\t\t\t<Pagination size=\"small\" total={500} showSizeChanger={false} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tarticleList: state.articalListReducer,\n\t\tmainState: state.mainReducer\n\t};\n};\n\nexport default connect(mapStateToProps, actions)(ArticleList);\n"]},"metadata":{},"sourceType":"module"}