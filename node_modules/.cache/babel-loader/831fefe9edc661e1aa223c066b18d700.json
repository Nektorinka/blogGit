{"ast":null,"code":"import _regeneratorRuntime from\"/Users/apple/Documents/GIT/blogGit/blogGit/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/apple/Documents/GIT/blogGit/blogGit/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/apple/Documents/GIT/blogGit/blogGit/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/apple/Documents/GIT/blogGit/blogGit/node_modules/@babel/runtime/helpers/esm/createClass\";var ServiceApi=/*#__PURE__*/function(){function ServiceApi(){_classCallCheck(this,ServiceApi);this.base='https://conduit.productionready.io/api/';}_createClass(ServiceApi,[{key:\"getArticles\",value:function(){var _getArticles=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var page,offset,response,_response,res,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:page=_args.length>0&&_args[0]!==undefined?_args[0]:1;offset=page*20-20;_context.prev=2;_context.next=5;return fetch(\"https://conduit.productionready.io/api/articles?offset=\".concat(offset));case 5:response=_context.sent;_context.next=8;return response.json();case 8:return _context.abrupt(\"return\",_context.sent);case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);_context.next=15;return fetch(\"https://conduit.productionready.io/api/articles?offset=\".concat(offset));case 15:_response=_context.sent;_context.next=18;return _response.json();case 18:res=_context.sent;return _context.abrupt(\"return\",res);case 20:case\"end\":return _context.stop();}}},_callee,null,[[2,11]]);}));function getArticles(){return _getArticles.apply(this,arguments);}return getArticles;}()},{key:\"getAutArticles\",value:function(){var _getAutArticles=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var page,token,offset,headers,response,_response2,res,_response3,_response4,_res,_args2=arguments;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:page=_args2.length>0&&_args2[0]!==undefined?_args2[0]:0;token=_args2.length>1&&_args2[1]!==undefined?_args2[1]:null;offset=page*20-20;headers={'Content-Type':'application/json',Authorization:\"Token \".concat(token)};if(!(token!==null)){_context2.next=25;break;}_context2.prev=5;_context2.next=8;return fetch(\"https://conduit.productionready.io/api/articles?offset=\".concat(offset),{method:'GET',headers:headers});case 8:response=_context2.sent;_context2.next=11;return response.json();case 11:return _context2.abrupt(\"return\",_context2.sent);case 14:_context2.prev=14;_context2.t0=_context2[\"catch\"](5);_context2.next=18;return fetch(\"https://conduit.productionready.io/api/articles?offset=\".concat(offset),{method:'GET',headers:headers});case 18:_response2=_context2.sent;_context2.next=21;return _response2.json();case 21:res=_context2.sent;return _context2.abrupt(\"return\",res);case 23:_context2.next=43;break;case 25:_context2.prev=25;_context2.next=28;return fetch(\"https://conduit.productionready.io/api/articles?offset=\".concat(offset));case 28:_response3=_context2.sent;_context2.next=31;return _response3.json();case 31:return _context2.abrupt(\"return\",_context2.sent);case 34:_context2.prev=34;_context2.t1=_context2[\"catch\"](25);_context2.next=38;return fetch(\"https://conduit.productionready.io/api/articles?offset=\".concat(offset));case 38:_response4=_context2.sent;_context2.next=41;return _response4.json();case 41:_res=_context2.sent;return _context2.abrupt(\"return\",_res);case 43:case\"end\":return _context2.stop();}}},_callee2,null,[[5,14],[25,34]]);}));function getAutArticles(){return _getAutArticles.apply(this,arguments);}return getAutArticles;}()},{key:\"getFullArticle\",value:function(){var _getFullArticle=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(slug){var token,headers,response,_response5,res,_response6,_response7,_res2,_args3=arguments;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:token=_args3.length>1&&_args3[1]!==undefined?_args3[1]:null;if(!token){_context3.next=23;break;}headers={'Content-Type':'application/json',Authorization:\"Token \".concat(token)};_context3.prev=3;_context3.next=6;return fetch(\"\".concat(this.base,\"articles/\").concat(slug),{method:'GET',headers:headers});case 6:response=_context3.sent;_context3.next=9;return response.json();case 9:return _context3.abrupt(\"return\",_context3.sent);case 12:_context3.prev=12;_context3.t0=_context3[\"catch\"](3);_context3.next=16;return fetch(\"\".concat(this.base,\"articles/\").concat(slug),{method:'GET',headers:headers});case 16:_response5=_context3.sent;_context3.next=19;return _response5.json();case 19:res=_context3.sent;return _context3.abrupt(\"return\",res);case 21:_context3.next=41;break;case 23:_context3.prev=23;_context3.next=26;return fetch(\"\".concat(this.base,\"articles/\").concat(slug));case 26:_response6=_context3.sent;_context3.next=29;return _response6.json();case 29:return _context3.abrupt(\"return\",_context3.sent);case 32:_context3.prev=32;_context3.t1=_context3[\"catch\"](23);_context3.next=36;return fetch(\"\".concat(this.base,\"articles/\").concat(slug));case 36:_response7=_context3.sent;_context3.next=39;return _response7.json();case 39:_res2=_context3.sent;return _context3.abrupt(\"return\",_res2);case 41:case\"end\":return _context3.stop();}}},_callee3,this,[[3,12],[23,32]]);}));function getFullArticle(_x){return _getFullArticle.apply(this,arguments);}return getFullArticle;}()},{key:\"signUp\",value:function(){var _signUp=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(body){var headers;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:headers={'Content-Type':'application/json'};return _context4.abrupt(\"return\",fetch(\"https://conduit.productionready.io/api/users\",{method:'POST',body:JSON.stringify(body),headers:headers}).then(function(response){return response.json();}));case 2:case\"end\":return _context4.stop();}}},_callee4);}));function signUp(_x2){return _signUp.apply(this,arguments);}return signUp;}()},{key:\"sigIn\",value:function(){var _sigIn=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(body){var headers;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:headers={'Content-Type':'application/json'};return _context5.abrupt(\"return\",fetch(\"https://conduit.productionready.io/api/users/login\",{method:'POST',body:JSON.stringify(body),headers:headers}).then(function(response){return response.json();}));case 2:case\"end\":return _context5.stop();}}},_callee5);}));function sigIn(_x3){return _sigIn.apply(this,arguments);}return sigIn;}()},{key:\"setLike\",value:function(){var _setLike=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(slug){var token,headers,_args6=arguments;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:token=_args6.length>1&&_args6[1]!==undefined?_args6[1]:null;headers={'Content-Type':'application/json',Authorization:\"Token \".concat(token)};_context6.prev=2;return _context6.abrupt(\"return\",fetch(\"https://conduit.productionready.io/api/articles/\".concat(slug,\"/favorite\"),{method:'POST',headers:headers}).then(function(response){return response.json();}));case 6:_context6.prev=6;_context6.t0=_context6[\"catch\"](2);return _context6.abrupt(\"return\",fetch(\"https://conduit.productionready.io/api/articles/\".concat(slug,\"/favorite\"),{method:'POST',headers:headers}).then(function(response){return response.json();}));case 9:case\"end\":return _context6.stop();}}},_callee6,null,[[2,6]]);}));function setLike(_x4){return _setLike.apply(this,arguments);}return setLike;}()},{key:\"unsetLike\",value:function(){var _unsetLike=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(slug){var token,headers,_args7=arguments;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:token=_args7.length>1&&_args7[1]!==undefined?_args7[1]:null;headers={'Content-Type':'application/json',Authorization:\"Token \".concat(token)};_context7.prev=2;return _context7.abrupt(\"return\",fetch(\"https://conduit.productionready.io/api/articles/\".concat(slug,\"/favorite\"),{method:'DELETE',headers:headers}).then(function(response){return response.json();}));case 6:_context7.prev=6;_context7.t0=_context7[\"catch\"](2);return _context7.abrupt(\"return\",fetch(\"https://conduit.productionready.io/api/articles/\".concat(slug,\"/favorite\"),{method:'DELETE',headers:headers}).then(function(response){return response.json();}));case 9:case\"end\":return _context7.stop();}}},_callee7,null,[[2,6]]);}));function unsetLike(_x5){return _unsetLike.apply(this,arguments);}return unsetLike;}()},{key:\"updateUser\",value:function(){var _updateUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(data,token){var email,url,username,password,headers,body;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:email=data.email,url=data.url,username=data.username,password=data.password;headers={'Content-Type':'application/json',Authorization:\"Token \".concat(token)};body={user:{email:email,image:url,username:username,password:password}};_context8.prev=3;return _context8.abrupt(\"return\",fetch(\"https://conduit.productionready.io/api/user\",{method:'PUT',headers:headers,body:JSON.stringify(body)}).then(function(response){if(response.ok){return response.json();}return null;}));case 7:_context8.prev=7;_context8.t0=_context8[\"catch\"](3);return _context8.abrupt(\"return\",fetch(\"https://conduit.productionready.io/api/user\",{method:'PUT',headers:headers,body:JSON.stringify(body)}).then(function(response){if(response.ok){return response.json();}return null;}));case 10:case\"end\":return _context8.stop();}}},_callee8,null,[[3,7]]);}));function updateUser(_x6,_x7){return _updateUser.apply(this,arguments);}return updateUser;}()},{key:\"createArticle\",value:function(){var _createArticle=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(token,_ref){var title,shortDescription,text,tags,headers,bodyReq,response,_response8;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:title=_ref.title,shortDescription=_ref.shortDescription,text=_ref.text,tags=_ref.tags;headers={'Content-Type':'application/json',Authorization:\"Token \".concat(token)};bodyReq={article:{title:title,description:shortDescription,body:text,tagList:tags}};_context9.prev=3;_context9.next=6;return fetch(\"https://conduit.productionready.io/api/articles\",{method:'POST',headers:headers,body:JSON.stringify(bodyReq)});case 6:response=_context9.sent;if(!response.ok){_context9.next=9;break;}return _context9.abrupt(\"return\",response.json());case 9:return _context9.abrupt(\"return\",null);case 12:_context9.prev=12;_context9.t0=_context9[\"catch\"](3);_context9.next=16;return fetch(\"https://conduit.productionready.io/api/articles\",{method:'POST',headers:headers,body:JSON.stringify(bodyReq)});case 16:_response8=_context9.sent;if(!_response8.ok){_context9.next=19;break;}return _context9.abrupt(\"return\",_response8.json());case 19:return _context9.abrupt(\"return\",null);case 20:case\"end\":return _context9.stop();}}},_callee9,null,[[3,12]]);}));function createArticle(_x8,_x9){return _createArticle.apply(this,arguments);}return createArticle;}()},{key:\"deleteArticle\",value:function(){var _deleteArticle=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(token,slug){var headers,response,_response9;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:headers={'Content-Type':'application/json',Authorization:\"Token \".concat(token)};_context10.prev=1;_context10.next=4;return fetch(\"https://conduit.productionready.io/api/articles/\".concat(slug),{method:'DELETE',headers:headers});case 4:response=_context10.sent;if(!response.ok){_context10.next=7;break;}return _context10.abrupt(\"return\",response.json());case 7:return _context10.abrupt(\"return\",null);case 10:_context10.prev=10;_context10.t0=_context10[\"catch\"](1);_context10.next=14;return fetch(\"https://conduit.productionready.io/api/articles/\".concat(slug),{method:'DELETE',headers:headers});case 14:_response9=_context10.sent;if(!_response9.ok){_context10.next=17;break;}return _context10.abrupt(\"return\",_response9.json());case 17:return _context10.abrupt(\"return\",null);case 18:case\"end\":return _context10.stop();}}},_callee10,null,[[1,10]]);}));function deleteArticle(_x10,_x11){return _deleteArticle.apply(this,arguments);}return deleteArticle;}()},{key:\"editArticle\",value:function(){var _editArticle=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(token,slug,data){var title,shortDescription,tags,text,headers,body,response,_response10;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:title=data.title,shortDescription=data.shortDescription,tags=data.tags,text=data.text;headers={'Content-Type':'application/json',Authorization:\"Token \".concat(token)};body={article:{title:title,description:shortDescription,tagList:tags,body:text}};_context11.prev=3;_context11.next=6;return fetch(\"https://conduit.productionready.io/api/articles/\".concat(slug),{method:'PUT',headers:headers,body:JSON.stringify(body)});case 6:response=_context11.sent;if(!response.ok){_context11.next=9;break;}return _context11.abrupt(\"return\",response.json());case 9:return _context11.abrupt(\"return\",null);case 12:_context11.prev=12;_context11.t0=_context11[\"catch\"](3);_context11.next=16;return fetch(\"https://conduit.productionready.io/api/articles/\".concat(slug),{method:'PUT',headers:headers,body:JSON.stringify(body)});case 16:_response10=_context11.sent;if(!_response10.ok){_context11.next=19;break;}return _context11.abrupt(\"return\",_response10.json());case 19:return _context11.abrupt(\"return\",null);case 20:case\"end\":return _context11.stop();}}},_callee11,null,[[3,12]]);}));function editArticle(_x12,_x13,_x14){return _editArticle.apply(this,arguments);}return editArticle;}()}]);return ServiceApi;}();export{ServiceApi as default};","map":{"version":3,"sources":["/Users/apple/Documents/GIT/blogGit/blogGit/src/services/serviceApi.js"],"names":["ServiceApi","base","page","offset","fetch","response","json","res","token","headers","Authorization","method","slug","body","JSON","stringify","then","data","email","url","username","password","user","image","ok","title","shortDescription","text","tags","bodyReq","article","description","tagList"],"mappings":"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","sourcesContent":["export default class ServiceApi {\n\tconstructor() {\n\t\tthis.base = 'https://conduit.productionready.io/api/';\n\t}\n\n\tasync getArticles(page = 1) {\n\t\tconst offset = page * 20 - 20;\n\t\ttry {\n\t\t\tconst response = await fetch(`https://conduit.productionready.io/api/articles?offset=${offset}`);\n\t\t\treturn await response.json();\n\t\t} catch (error) {\n\t\t\tconst response = await fetch(`https://conduit.productionready.io/api/articles?offset=${offset}`);\n\t\t\tconst res = await response.json();\n\t\t\treturn res;\n\t\t}\n\t}\n\n\tasync getAutArticles(page = 0, token = null) {\n\t\tconst offset = page * 20 - 20;\n\t\tconst headers = {\n\t\t\t'Content-Type': 'application/json',\n\t\t\tAuthorization: `Token ${token}`\n\t\t};\n\t\tif (token !== null) {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(`https://conduit.productionready.io/api/articles?offset=${offset}`, {\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theaders\n\t\t\t\t});\n\t\t\t\treturn await response.json();\n\t\t\t} catch (error) {\n\t\t\t\tconst response = await fetch(`https://conduit.productionready.io/api/articles?offset=${offset}`, {\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theaders\n\t\t\t\t});\n\t\t\t\tconst res = await response.json();\n\t\t\t\treturn res;\n\t\t\t}\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(`https://conduit.productionready.io/api/articles?offset=${offset}`);\n\t\t\t\treturn await response.json();\n\t\t\t} catch (error) {\n\t\t\t\tconst response = await fetch(`https://conduit.productionready.io/api/articles?offset=${offset}`);\n\t\t\t\tconst res = await response.json();\n\t\t\t\treturn res;\n\t\t\t}\n\t\t}\n\t}\n\n\tasync getFullArticle(slug, token = null) {\n\t\tif (token) {\n\t\t\tconst headers = {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\tAuthorization: `Token ${token}`\n\t\t\t};\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(`${this.base}articles/${slug}`, {\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theaders\n\t\t\t\t});\n\t\t\t\treturn await response.json();\n\t\t\t} catch (error) {\n\t\t\t\tconst response = await fetch(`${this.base}articles/${slug}`, {\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theaders\n\t\t\t\t});\n\t\t\t\tconst res = await response.json();\n\t\t\t\treturn res;\n\t\t\t}\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(`${this.base}articles/${slug}`);\n\t\t\t\treturn await response.json();\n\t\t\t} catch (error) {\n\t\t\t\tconst response = await fetch(`${this.base}articles/${slug}`);\n\t\t\t\tconst res = await response.json();\n\t\t\t\treturn res;\n\t\t\t}\n\t\t}\n\t}\n\n\tasync signUp(body) {\n\t\tconst headers = {\n\t\t\t'Content-Type': 'application/json'\n\t\t};\n\t\treturn fetch(`https://conduit.productionready.io/api/users`, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify(body),\n\t\t\theaders\n\t\t}).then((response) => {\n\t\t\treturn response.json();\n\t\t});\n\t}\n\n\tasync sigIn(body) {\n\t\tconst headers = {\n\t\t\t'Content-Type': 'application/json'\n\t\t};\n\t\treturn fetch(`https://conduit.productionready.io/api/users/login`, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify(body),\n\t\t\theaders\n\t\t}).then((response) => {\n\t\t\treturn response.json();\n\t\t});\n\t}\n\n\tasync setLike(slug, token = null) {\n\t\tconst headers = {\n\t\t\t'Content-Type': 'application/json',\n\t\t\tAuthorization: `Token ${token}`\n\t\t};\n\t\ttry {\n\t\t\treturn fetch(`https://conduit.productionready.io/api/articles/${slug}/favorite`, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders\n\t\t\t}).then((response) => {\n\t\t\t\treturn response.json();\n\t\t\t});\n\t\t} catch (error) {\n\t\t\treturn fetch(`https://conduit.productionready.io/api/articles/${slug}/favorite`, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders\n\t\t\t}).then((response) => {\n\t\t\t\treturn response.json();\n\t\t\t});\n\t\t}\n\t}\n\n\tasync unsetLike(slug, token = null) {\n\t\tconst headers = {\n\t\t\t'Content-Type': 'application/json',\n\t\t\tAuthorization: `Token ${token}`\n\t\t};\n\t\ttry {\n\t\t\treturn fetch(`https://conduit.productionready.io/api/articles/${slug}/favorite`, {\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\theaders\n\t\t\t}).then((response) => {\n\t\t\t\treturn response.json();\n\t\t\t});\n\t\t} catch (error) {\n\t\t\treturn fetch(`https://conduit.productionready.io/api/articles/${slug}/favorite`, {\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\theaders\n\t\t\t}).then((response) => {\n\t\t\t\treturn response.json();\n\t\t\t});\n\t\t}\n\t}\n\n\tasync updateUser(data, token) {\n\t\tconst { email, url, username, password } = data;\n\t\tconst headers = {\n\t\t\t'Content-Type': 'application/json',\n\t\t\tAuthorization: `Token ${token}`\n\t\t};\n\t\tconst body = {\n\t\t\tuser: {\n\t\t\t\temail,\n\t\t\t\timage: url,\n\t\t\t\tusername,\n\t\t\t\tpassword\n\t\t\t}\n\t\t};\n\t\ttry {\n\t\t\treturn fetch(`https://conduit.productionready.io/api/user`, {\n\t\t\t\tmethod: 'PUT',\n\t\t\t\theaders,\n\t\t\t\tbody: JSON.stringify(body)\n\t\t\t}).then((response) => {\n\t\t\t\tif (response.ok) {\n\t\t\t\t\treturn response.json();\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t});\n\t\t} catch (error) {\n\t\t\treturn fetch(`https://conduit.productionready.io/api/user`, {\n\t\t\t\tmethod: 'PUT',\n\t\t\t\theaders,\n\t\t\t\tbody: JSON.stringify(body)\n\t\t\t}).then((response) => {\n\t\t\t\tif (response.ok) {\n\t\t\t\t\treturn response.json();\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t});\n\t\t}\n\t}\n\n\tasync createArticle(token, { title, shortDescription, text, tags }) {\n\t\tconst headers = {\n\t\t\t'Content-Type': 'application/json',\n\t\t\tAuthorization: `Token ${token}`\n\t\t};\n\t\tconst bodyReq = {\n\t\t\tarticle: {\n\t\t\t\ttitle,\n\t\t\t\tdescription: shortDescription,\n\t\t\t\tbody: text,\n\t\t\t\ttagList: tags\n\t\t\t}\n\t\t};\n\t\ttry {\n\t\t\tconst response = await fetch(`https://conduit.productionready.io/api/articles`, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders,\n\t\t\t\tbody: JSON.stringify(bodyReq)\n\t\t\t});\n\t\t\tif (response.ok) {\n\t\t\t\treturn response.json();\n\t\t\t}\n\t\t\treturn null;\n\t\t} catch (error) {\n\t\t\tconst response = await fetch(`https://conduit.productionready.io/api/articles`, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders,\n\t\t\t\tbody: JSON.stringify(bodyReq)\n\t\t\t});\n\t\t\tif (response.ok) {\n\t\t\t\treturn response.json();\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tasync deleteArticle(token, slug) {\n\t\tconst headers = {\n\t\t\t'Content-Type': 'application/json',\n\t\t\tAuthorization: `Token ${token}`\n\t\t};\n\t\ttry {\n\t\t\tconst response = await fetch(`https://conduit.productionready.io/api/articles/${slug}`, {\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\theaders\n\t\t\t});\n\t\t\tif (response.ok) {\n\t\t\t\treturn response.json();\n\t\t\t}\n\t\t\treturn null;\n\t\t} catch (error) {\n\t\t\tconst response = await fetch(`https://conduit.productionready.io/api/articles/${slug}`, {\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\theaders\n\t\t\t});\n\t\t\tif (response.ok) {\n\t\t\t\treturn response.json();\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tasync editArticle(token, slug, data) {\n\t\tconst { title, shortDescription, tags, text } = data;\n\t\tconst headers = {\n\t\t\t'Content-Type': 'application/json',\n\t\t\tAuthorization: `Token ${token}`\n\t\t};\n\t\tconst body = {\n\t\t\tarticle: {\n\t\t\t\ttitle,\n\t\t\t\tdescription: shortDescription,\n\t\t\t\ttagList: tags,\n\t\t\t\tbody: text\n\t\t\t}\n\t\t};\n\t\ttry {\n\t\t\tconst response = await fetch(`https://conduit.productionready.io/api/articles/${slug}`, {\n\t\t\t\tmethod: 'PUT',\n\t\t\t\theaders,\n\t\t\t\tbody: JSON.stringify(body)\n\t\t\t});\n\t\t\tif (response.ok) {\n\t\t\t\treturn response.json();\n\t\t\t}\n\t\t\treturn null;\n\t\t} catch (error) {\n\t\t\tconst response = await fetch(`https://conduit.productionready.io/api/articles/${slug}`, {\n\t\t\t\tmethod: 'PUT',\n\t\t\t\theaders,\n\t\t\t\tbody: JSON.stringify(body)\n\t\t\t});\n\t\t\tif (response.ok) {\n\t\t\t\treturn response.json();\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}