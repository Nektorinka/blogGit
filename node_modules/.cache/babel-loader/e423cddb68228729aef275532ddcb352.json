{"ast":null,"code":"import _slicedToArray from\"/Users/apple/Documents/GIT/blogGit/blogGit/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{connect}from'react-redux';import{Link,withRouter}from'react-router-dom';import'./article.scss';import{renderTags,renderDate}from'./articleFunctions';import{HeartOutlined}from'@ant-design/icons';import ServiceApi from'../../services/serviceApi';import*as actions from'../../Redux/Actions/actions';function Article(_ref){var mainState=_ref.mainState,data=_ref.data,history=_ref.history;var _useState=useState(data),_useState2=_slicedToArray(_useState,2),dataState=_useState2[0],setData=_useState2[1];var _dataState$author=dataState.author,username=_dataState$author.username,image=_dataState$author.image;var createdAt=dataState.createdAt,title=dataState.title,tagList=dataState.tagList,description=dataState.description,slug=dataState.slug,favoritesCount=dataState.favoritesCount,favorited=dataState.favorited;var token=null;if(mainState.loggedInfo){token=mainState.loggedInfo.user.token;}var isLogged=mainState.isLogged;var myService=new ServiceApi();return/*#__PURE__*/React.createElement(\"div\",{className:\"article\"},/*#__PURE__*/React.createElement(\"div\",{className:\"article__content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"article__header\"},/*#__PURE__*/React.createElement(Link,{to:\"/articles/\".concat(slug),className:\"article__title\"},title),/*#__PURE__*/React.createElement(\"div\",{className:\"article__like article__\".concat(favorited?'like--active':null,\" \")},/*#__PURE__*/React.createElement(HeartOutlined,{onClick:function onClick(){if(isLogged){if(!favorited){myService.setLike(slug,token).then(function(response){return setData(response.article);});}else{myService.unsetLike(slug,token).then(function(response){return setData(response.article);});}}else{history.push('/sign-in');}}}),/*#__PURE__*/React.createElement(\"span\",{className:\"article__like-counter\"},favoritesCount))),/*#__PURE__*/React.createElement(\"div\",{className:\"article__tags\"},renderTags(tagList)),/*#__PURE__*/React.createElement(\"div\",{className:\"article__article\"},description)),/*#__PURE__*/React.createElement(\"div\",{className:\"article__author-block\"},/*#__PURE__*/React.createElement(\"div\",{className:\"article__author-description\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"article__autor\"},username),/*#__PURE__*/React.createElement(\"h4\",{className:\"article__date\"},renderDate(createdAt),\" \")),/*#__PURE__*/React.createElement(\"div\",{className:\"article__author-avatar\"},/*#__PURE__*/React.createElement(\"img\",{src:image,alt:\"author-avatar\",className:\"article__image\"}))));}var mapStateToProps=function mapStateToProps(state){return{mainState:state.mainReducer};};export default withRouter(connect(mapStateToProps,actions)(Article));","map":{"version":3,"sources":["/Users/apple/Documents/GIT/blogGit/blogGit/src/components/Article/Article.jsx"],"names":["React","useState","connect","Link","withRouter","renderTags","renderDate","HeartOutlined","ServiceApi","actions","Article","mainState","data","history","dataState","setData","author","username","image","createdAt","title","tagList","description","slug","favoritesCount","favorited","token","loggedInfo","user","isLogged","myService","setLike","then","response","article","unsetLike","push","mapStateToProps","state","mainReducer"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport './article.scss';\nimport { renderTags, renderDate } from './articleFunctions';\nimport { HeartOutlined } from '@ant-design/icons';\nimport ServiceApi from '../../services/serviceApi';\nimport * as actions from '../../Redux/Actions/actions';\n\nfunction Article({ mainState, data, history }) {\n\tconst [ dataState, setData ] = useState(data);\n\tconst { username, image } = dataState.author;\n\tconst { createdAt, title, tagList, description, slug, favoritesCount, favorited } = dataState;\n\tlet token = null;\n\tif (mainState.loggedInfo) {\n\t\ttoken = mainState.loggedInfo.user.token;\n\t}\n\tconst { isLogged } = mainState;\n\n\tconst myService = new ServiceApi();\n\treturn (\n\t\t<div className=\"article\">\n\t\t\t<div className=\"article__content\">\n\t\t\t\t<div className=\"article__header\">\n\t\t\t\t\t<Link to={`/articles/${slug}`} className=\"article__title\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Link>\n\t\t\t\t\t<div className={`article__like article__${favorited ? 'like--active' : null} `}>\n\t\t\t\t\t\t<HeartOutlined\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (isLogged) {\n\t\t\t\t\t\t\t\t\tif (!favorited) {\n\t\t\t\t\t\t\t\t\t\tmyService.setLike(slug, token).then((response) => setData(response.article));\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tmyService.unsetLike(slug, token).then((response) => setData(response.article));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\thistory.push('/sign-in');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span className=\"article__like-counter\">{favoritesCount}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"article__tags\">{renderTags(tagList)}</div>\n\t\t\t\t<div className=\"article__article\">{description}</div>\n\t\t\t</div>\n\t\t\t<div className=\"article__author-block\">\n\t\t\t\t<div className=\"article__author-description\">\n\t\t\t\t\t<h3 className=\"article__autor\">{username}</h3>\n\t\t\t\t\t<h4 className=\"article__date\">{renderDate(createdAt)} </h4>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"article__author-avatar\">\n\t\t\t\t\t<img src={image} alt=\"author-avatar\" className=\"article__image\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tmainState: state.mainReducer\n\t};\n};\n\nexport default withRouter(connect(mapStateToProps, actions)(Article));\n"]},"metadata":{},"sourceType":"module"}