{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/GIT/blogGit/blogGit/src/components/Article/Article.jsx\";\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport './article.scss';\nimport { renderTags, renderDate } from './articleFunctions';\nimport { HeartOutlined } from '@ant-design/icons';\nimport { myService } from '../../services/serviceApi';\nimport * as actions from '../../Redux/Actions/actions';\n\nfunction Article({\n  mainState,\n  data,\n  history\n}) {\n  const [dataState, setData] = useState(data);\n  const {\n    username,\n    image\n  } = dataState.author;\n  const {\n    createdAt,\n    title,\n    tagList,\n    description,\n    slug,\n    favoritesCount,\n    favorited\n  } = dataState;\n  let token = null;\n\n  if (mainState.loggedInfo) {\n    token = mainState.loggedInfo.user.token;\n  }\n\n  const {\n    isLogged\n  } = mainState;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"article\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"article__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"article__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/articles/${slug}`,\n    className: \"article__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 6\n    }\n  }, title), /*#__PURE__*/React.createElement(\"div\", {\n    className: `article__like article__${favorited ? 'like--active' : null} `,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(HeartOutlined, {\n    onClick: () => {\n      if (isLogged) {\n        if (!favorited) {\n          myService.setLike(slug, token).then(response => setData(response.article));\n        } else {\n          myService.unsetLike(slug, token).then(response => setData(response.article));\n        }\n      } else {\n        history.push('/sign-in');\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"article__like-counter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, favoritesCount))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"article__tags\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, renderTags(tagList)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"article__article\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, description)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"article__author-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"article__author-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"article__autor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 6\n    }\n  }, username), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"article__date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 6\n    }\n  }, renderDate(createdAt), \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"article__author-avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    alt: \"author-avatar\",\n    className: \"article__image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 6\n    }\n  }))));\n}\n\nconst mapStateToProps = state => {\n  return {\n    mainState: state.mainReducer\n  };\n};\n\nexport default withRouter(connect(mapStateToProps)(Article));","map":{"version":3,"sources":["/Users/apple/Documents/GIT/blogGit/blogGit/src/components/Article/Article.jsx"],"names":["React","useState","connect","Link","withRouter","renderTags","renderDate","HeartOutlined","myService","actions","Article","mainState","data","history","dataState","setData","username","image","author","createdAt","title","tagList","description","slug","favoritesCount","favorited","token","loggedInfo","user","isLogged","setLike","then","response","article","unsetLike","push","mapStateToProps","state","mainReducer"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport './article.scss';\nimport { renderTags, renderDate } from './articleFunctions';\nimport { HeartOutlined } from '@ant-design/icons';\nimport { myService } from '../../services/serviceApi';\nimport * as actions from '../../Redux/Actions/actions';\n\nfunction Article({ mainState, data, history }) {\n\tconst [ dataState, setData ] = useState(data);\n\tconst { username, image } = dataState.author;\n\tconst { createdAt, title, tagList, description, slug, favoritesCount, favorited } = dataState;\n\tlet token = null;\n\tif (mainState.loggedInfo) {\n\t\ttoken = mainState.loggedInfo.user.token;\n\t}\n\tconst { isLogged } = mainState;\n\n\treturn (\n\t\t<div className=\"article\">\n\t\t\t<div className=\"article__content\">\n\t\t\t\t<div className=\"article__header\">\n\t\t\t\t\t<Link to={`/articles/${slug}`} className=\"article__title\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Link>\n\t\t\t\t\t<div className={`article__like article__${favorited ? 'like--active' : null} `}>\n\t\t\t\t\t\t<HeartOutlined\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (isLogged) {\n\t\t\t\t\t\t\t\t\tif (!favorited) {\n\t\t\t\t\t\t\t\t\t\tmyService.setLike(slug, token).then((response) => setData(response.article));\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tmyService.unsetLike(slug, token).then((response) => setData(response.article));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\thistory.push('/sign-in');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span className=\"article__like-counter\">{favoritesCount}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"article__tags\">{renderTags(tagList)}</div>\n\t\t\t\t<div className=\"article__article\">{description}</div>\n\t\t\t</div>\n\t\t\t<div className=\"article__author-block\">\n\t\t\t\t<div className=\"article__author-description\">\n\t\t\t\t\t<h3 className=\"article__autor\">{username}</h3>\n\t\t\t\t\t<h4 className=\"article__date\">{renderDate(createdAt)} </h4>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"article__author-avatar\">\n\t\t\t\t\t<img src={image} alt=\"author-avatar\" className=\"article__image\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tmainState: state.mainReducer\n\t};\n};\n\nexport default withRouter(connect(mapStateToProps)(Article));\n"]},"metadata":{},"sourceType":"module"}