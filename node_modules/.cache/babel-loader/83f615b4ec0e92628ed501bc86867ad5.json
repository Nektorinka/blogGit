{"ast":null,"code":"import React from'react';import{Redirect}from'react-router-dom';import{connect}from'react-redux';import{useForm}from'react-hook-form';import'./signUp.scss';import ServiceApi from'../../services/serviceApi';import*as actions from'../../Redux/Actions/actions';function EditProfile(_ref){var mainState=_ref.mainState,logIn=_ref.logIn;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors;if(!mainState.isLogged){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}var myService=new ServiceApi();var _mainState$loggedInfo=mainState.loggedInfo.user,token=_mainState$loggedInfo.token,email=_mainState$loggedInfo.email,username=_mainState$loggedInfo.username;var onSubmit=function onSubmit(data){myService.updateUser(data,token).then(function(res){logIn(res);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"sign_up\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"sign_up_form form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form__header-container\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"form__header\"},\"Edit Profile\")),/*#__PURE__*/React.createElement(\"label\",{className:\"form__input-group\"},/*#__PURE__*/React.createElement(\"span\",{className:\"form__input-label' + \".concat(errors.username?' form__input-label--error':null)},\"Username\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",defaultValue:username,name:\"username\",placeholder:\"DefaultUsername\",className:\"form__input \".concat(errors.username?' form__input--error':null),ref:register({required:'Введите логин',minLength:{value:3,message:'Логин должен быть от 3 до 20 символов'},maxLength:{value:20,message:'Логин должен быть от 3 до 20 символов'}})}),errors.username&&/*#__PURE__*/React.createElement(\"span\",{className:\"form__input-label form__input-label--error\"},errors.username.message)),/*#__PURE__*/React.createElement(\"label\",{className:\"form__input-group\"},/*#__PURE__*/React.createElement(\"span\",{className:\"form__input-label\"},\"Email address\"),/*#__PURE__*/React.createElement(\"input\",{defaultValue:email,type:\"email\",name:\"email\",placeholder:\"Default@value.com\",className:\"form__input\",ref:register({required:'Введите email',pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,message:'Введите корректный email'}})}),errors.email&&/*#__PURE__*/React.createElement(\"span\",{className:\"form__input-label form__input-label--error\"},errors.email.message)),/*#__PURE__*/React.createElement(\"label\",{className:\"form__input-group\"},/*#__PURE__*/React.createElement(\"span\",{className:\"form__input-label\"},\"New password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",placeholder:\"New password\",className:\"form__input\",ref:register({required:'Введите пароль',minLength:{value:6,message:'Пароль должен быть от 6 до 40 символов'},maxLength:{value:40,message:'Пароль должен быть от 6 до 40 символов'}})}),errors.password&&/*#__PURE__*/React.createElement(\"span\",{className:\"form__input-label form__input-label--error\"},errors.password.message)),/*#__PURE__*/React.createElement(\"label\",{className:\"form__input-group\"},/*#__PURE__*/React.createElement(\"span\",{className:\"form__input-label\"},\"Avatar image (url)\"),/*#__PURE__*/React.createElement(\"input\",{type:\"url\",name:\"url\",placeholder:\"Avatar image\",className:\"form__input\",ref:register({required:'Введите ссылку'})}),errors.url&&/*#__PURE__*/React.createElement(\"span\",{className:\"form__input-label form__input-label--error\"},errors.url.message)),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"form__submit mg-top--10px mg-bottom--40px\"},\"Save\")));}var mapStateToProps=function mapStateToProps(state){return{mainState:state.mainReducer};};export default connect(mapStateToProps,actions)(EditProfile);","map":{"version":3,"sources":["/Users/apple/Documents/GIT/blogGit/blogGit/src/components/Forms/EditProfile.jsx"],"names":["React","Redirect","connect","useForm","ServiceApi","actions","EditProfile","mainState","logIn","register","handleSubmit","errors","isLogged","myService","loggedInfo","user","token","email","username","onSubmit","data","updateUser","then","res","required","minLength","value","message","maxLength","pattern","password","url","mapStateToProps","state","mainReducer"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,2BAAvB,CACA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,6BAAzB,CAEA,QAASC,CAAAA,WAAT,MAA2C,IAApBC,CAAAA,SAAoB,MAApBA,SAAoB,CAATC,KAAS,MAATA,KAAS,cACCL,OAAO,EADR,CAClCM,QADkC,UAClCA,QADkC,CACxBC,YADwB,UACxBA,YADwB,CACVC,MADU,UACVA,MADU,CAE1C,GAAI,CAACJ,SAAS,CAACK,QAAf,CAAyB,CACxB,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CACA,CACD,GAAMC,CAAAA,SAAS,CAAG,GAAIT,CAAAA,UAAJ,EAAlB,CAL0C,0BAOPG,SAAS,CAACO,UAAV,CAAqBC,IAPd,CAOlCC,KAPkC,uBAOlCA,KAPkC,CAO3BC,KAP2B,uBAO3BA,KAP2B,CAOpBC,QAPoB,uBAOpBA,QAPoB,CAS1C,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,IAAD,CAAU,CAC1BP,SAAS,CAACQ,UAAV,CAAqBD,IAArB,CAA2BJ,KAA3B,EAAkCM,IAAlC,CAAuC,SAACC,GAAD,CAAS,CAC/Cf,KAAK,CAACe,GAAD,CAAL,CACA,CAFD,EAGA,CAJD,CAMA,mBACC,2BAAK,SAAS,CAAC,SAAf,eACC,4BAAM,QAAQ,CAAEb,YAAY,CAACS,QAAD,CAA5B,CAAwC,SAAS,CAAC,mBAAlD,eACC,2BAAK,SAAS,CAAC,wBAAf,eACC,0BAAI,SAAS,CAAC,cAAd,iBADD,CADD,cAIC,6BAAO,SAAS,CAAC,mBAAjB,eACC,4BAAM,SAAS,gCAA0BR,MAAM,CAACO,QAAP,CAAkB,2BAAlB,CAAgD,IAA1E,CAAf,aADD,cAIC,6BACC,IAAI,CAAC,MADN,CAEC,YAAY,CAAEA,QAFf,CAGC,IAAI,CAAC,UAHN,CAIC,WAAW,CAAC,iBAJb,CAKC,SAAS,uBAAiBP,MAAM,CAACO,QAAP,CAAkB,qBAAlB,CAA0C,IAA3D,CALV,CAMC,GAAG,CAAET,QAAQ,CAAC,CACbe,QAAQ,CAAE,eADG,CAEbC,SAAS,CAAE,CAAEC,KAAK,CAAE,CAAT,CAAYC,OAAO,CAAE,uCAArB,CAFE,CAGbC,SAAS,CAAE,CAAEF,KAAK,CAAE,EAAT,CAAaC,OAAO,CAAE,uCAAtB,CAHE,CAAD,CANd,EAJD,CAgBEhB,MAAM,CAACO,QAAP,eACA,4BAAM,SAAS,CAAC,4CAAhB,EAA8DP,MAAM,CAACO,QAAP,CAAgBS,OAA9E,CAjBF,CAJD,cAwBC,6BAAO,SAAS,CAAC,mBAAjB,eACC,4BAAM,SAAS,CAAC,mBAAhB,kBADD,cAEC,6BACC,YAAY,CAAEV,KADf,CAEC,IAAI,CAAC,OAFN,CAGC,IAAI,CAAC,OAHN,CAIC,WAAW,CAAC,mBAJb,CAKC,SAAS,CAAC,aALX,CAMC,GAAG,CAAER,QAAQ,CAAC,CACbe,QAAQ,CAAE,eADG,CAEbK,OAAO,CAAE,CACRH,KAAK,CAAE,0CADC,CAERC,OAAO,CAAE,0BAFD,CAFI,CAAD,CANd,EAFD,CAgBEhB,MAAM,CAACM,KAAP,eACA,4BAAM,SAAS,CAAC,4CAAhB,EAA8DN,MAAM,CAACM,KAAP,CAAaU,OAA3E,CAjBF,CAxBD,cA4CC,6BAAO,SAAS,CAAC,mBAAjB,eACC,4BAAM,SAAS,CAAC,mBAAhB,iBADD,cAEC,6BACC,IAAI,CAAC,UADN,CAEC,IAAI,CAAC,UAFN,CAGC,WAAW,CAAC,cAHb,CAIC,SAAS,CAAC,aAJX,CAKC,GAAG,CAAElB,QAAQ,CAAC,CACbe,QAAQ,CAAE,gBADG,CAEbC,SAAS,CAAE,CAAEC,KAAK,CAAE,CAAT,CAAYC,OAAO,CAAE,wCAArB,CAFE,CAGbC,SAAS,CAAE,CAAEF,KAAK,CAAE,EAAT,CAAaC,OAAO,CAAE,wCAAtB,CAHE,CAAD,CALd,EAFD,CAaEhB,MAAM,CAACmB,QAAP,eACA,4BAAM,SAAS,CAAC,4CAAhB,EAA8DnB,MAAM,CAACmB,QAAP,CAAgBH,OAA9E,CAdF,CA5CD,cA6DC,6BAAO,SAAS,CAAC,mBAAjB,eACC,4BAAM,SAAS,CAAC,mBAAhB,uBADD,cAEC,6BACC,IAAI,CAAC,KADN,CAEC,IAAI,CAAC,KAFN,CAGC,WAAW,CAAC,cAHb,CAIC,SAAS,CAAC,aAJX,CAKC,GAAG,CAAElB,QAAQ,CAAC,CACbe,QAAQ,CAAE,gBADG,CAAD,CALd,EAFD,CAWEb,MAAM,CAACoB,GAAP,eACA,4BAAM,SAAS,CAAC,4CAAhB,EAA8DpB,MAAM,CAACoB,GAAP,CAAWJ,OAAzE,CAZF,CA7DD,cA6EC,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,2CAAhC,SA7ED,CADD,CADD,CAqFA,CAED,GAAMK,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CAClC,MAAO,CACN1B,SAAS,CAAE0B,KAAK,CAACC,WADX,CAAP,CAGA,CAJD,CAMA,cAAehC,CAAAA,OAAO,CAAC8B,eAAD,CAAkB3B,OAAlB,CAAP,CAAkCC,WAAlC,CAAf","sourcesContent":["import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { useForm } from 'react-hook-form';\nimport './signUp.scss';\nimport ServiceApi from '../../services/serviceApi';\nimport * as actions from '../../Redux/Actions/actions';\n\nfunction EditProfile({ mainState, logIn }) {\n\tconst { register, handleSubmit, errors } = useForm();\n\tif (!mainState.isLogged) {\n\t\treturn <Redirect to=\"/\" />;\n\t}\n\tconst myService = new ServiceApi();\n\n\tconst { token, email, username } = mainState.loggedInfo.user;\n\n\tconst onSubmit = (data) => {\n\t\tmyService.updateUser(data, token).then((res) => {\n\t\t\tlogIn(res);\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"sign_up\">\n\t\t\t<form onSubmit={handleSubmit(onSubmit)} className=\"sign_up_form form\">\n\t\t\t\t<div className=\"form__header-container\">\n\t\t\t\t\t<h1 className=\"form__header\">Edit Profile</h1>\n\t\t\t\t</div>\n\t\t\t\t<label className=\"form__input-group\">\n\t\t\t\t\t<span className={`form__input-label' + ${errors.username ? ' form__input-label--error' : null}`}>\n\t\t\t\t\t\tUsername\n\t\t\t\t\t</span>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tdefaultValue={username}\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\tplaceholder=\"DefaultUsername\"\n\t\t\t\t\t\tclassName={`form__input ${errors.username ? ' form__input--error' : null}`}\n\t\t\t\t\t\tref={register({\n\t\t\t\t\t\t\trequired: 'Введите логин',\n\t\t\t\t\t\t\tminLength: { value: 3, message: 'Логин должен быть от 3 до 20 символов' },\n\t\t\t\t\t\t\tmaxLength: { value: 20, message: 'Логин должен быть от 3 до 20 символов' }\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t\t{errors.username && (\n\t\t\t\t\t\t<span className=\"form__input-label form__input-label--error\">{errors.username.message}</span>\n\t\t\t\t\t)}\n\t\t\t\t</label>\n\t\t\t\t<label className=\"form__input-group\">\n\t\t\t\t\t<span className=\"form__input-label\">Email address</span>\n\t\t\t\t\t<input\n\t\t\t\t\t\tdefaultValue={email}\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tplaceholder=\"Default@value.com\"\n\t\t\t\t\t\tclassName=\"form__input\"\n\t\t\t\t\t\tref={register({\n\t\t\t\t\t\t\trequired: 'Введите email',\n\t\t\t\t\t\t\tpattern: {\n\t\t\t\t\t\t\t\tvalue: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n\t\t\t\t\t\t\t\tmessage: 'Введите корректный email'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t\t{errors.email && (\n\t\t\t\t\t\t<span className=\"form__input-label form__input-label--error\">{errors.email.message}</span>\n\t\t\t\t\t)}\n\t\t\t\t</label>\n\t\t\t\t<label className=\"form__input-group\">\n\t\t\t\t\t<span className=\"form__input-label\">New password</span>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tplaceholder=\"New password\"\n\t\t\t\t\t\tclassName=\"form__input\"\n\t\t\t\t\t\tref={register({\n\t\t\t\t\t\t\trequired: 'Введите пароль',\n\t\t\t\t\t\t\tminLength: { value: 6, message: 'Пароль должен быть от 6 до 40 символов' },\n\t\t\t\t\t\t\tmaxLength: { value: 40, message: 'Пароль должен быть от 6 до 40 символов' }\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t\t{errors.password && (\n\t\t\t\t\t\t<span className=\"form__input-label form__input-label--error\">{errors.password.message}</span>\n\t\t\t\t\t)}\n\t\t\t\t</label>\n\t\t\t\t<label className=\"form__input-group\">\n\t\t\t\t\t<span className=\"form__input-label\">Avatar image (url)</span>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t\tname=\"url\"\n\t\t\t\t\t\tplaceholder=\"Avatar image\"\n\t\t\t\t\t\tclassName=\"form__input\"\n\t\t\t\t\t\tref={register({\n\t\t\t\t\t\t\trequired: 'Введите ссылку'\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t\t{errors.url && (\n\t\t\t\t\t\t<span className=\"form__input-label form__input-label--error\">{errors.url.message}</span>\n\t\t\t\t\t)}\n\t\t\t\t</label>\n\n\t\t\t\t<button type=\"submit\" className=\"form__submit mg-top--10px mg-bottom--40px\">\n\t\t\t\t\tSave\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tmainState: state.mainReducer\n\t};\n};\n\nexport default connect(mapStateToProps, actions)(EditProfile);\n"]},"metadata":{},"sourceType":"module"}