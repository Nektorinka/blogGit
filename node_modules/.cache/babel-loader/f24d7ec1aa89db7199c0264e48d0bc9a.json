{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/GIT/blogGit/blogGit/src/components/Forms/EditProfile.jsx\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { useForm } from 'react-hook-form';\nimport './signUp.scss';\nimport ServiceApi from '../../services/serviceApi';\nimport * as actions from '../../Redux/Actions/actions';\n\nfunction EditProfile({\n  mainState,\n  logIn\n}) {\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n\n  if (!mainState.isLogged) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 10\n      }\n    });\n  }\n\n  const myService = new ServiceApi();\n  const {\n    token,\n    email,\n    username\n  } = mainState.loggedInfo.user;\n\n  const onSubmit = data => {\n    myService.updateUser(data, token).then(res => {\n      logIn(res);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sign_up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    className: \"sign_up_form form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__header-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"form__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 6\n    }\n  }, \"Edit Profile\")), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form__input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: `form__input-label' + ${errors.username ? ' form__input-label--error' : null}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 6\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    defaultValue: username,\n    name: \"username\",\n    placeholder: \"DefaultUsername\",\n    className: `form__input ${errors.username ? ' form__input--error' : null}`,\n    ref: register({\n      required: 'Введите логин',\n      minLength: {\n        value: 3,\n        message: 'Логин должен быть от 3 до 20 символов'\n      },\n      maxLength: {\n        value: 20,\n        message: 'Логин должен быть от 3 до 20 символов'\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 6\n    }\n  }), errors.username && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"form__input-label form__input-label--error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, errors.username.message)), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form__input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"form__input-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 6\n    }\n  }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n    defaultValue: email,\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"Default@value.com\",\n    className: \"form__input\",\n    ref: register({\n      required: 'Введите email',\n      pattern: {\n        value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n        message: 'Введите корректный email'\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 6\n    }\n  }), errors.email && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"form__input-label form__input-label--error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, errors.email.message)), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form__input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"form__input-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 6\n    }\n  }, \"New password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"New password\",\n    className: \"form__input\",\n    ref: register({\n      required: 'Введите пароль',\n      minLength: {\n        value: 6,\n        message: 'Пароль должен быть от 6 до 40 символов'\n      },\n      maxLength: {\n        value: 40,\n        message: 'Пароль должен быть от 6 до 40 символов'\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 6\n    }\n  }), errors.password && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"form__input-label form__input-label--error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, errors.password.message)), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form__input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"form__input-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 6\n    }\n  }, \"Avatar image (url)\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"url\",\n    name: \"url\",\n    placeholder: \"Avatar image\",\n    className: \"form__input\",\n    ref: register({\n      required: 'Введите ссылку'\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 6\n    }\n  }), errors.url && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"form__input-label form__input-label--error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, errors.url.message)), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"form__submit mg-top--10px mg-bottom--40px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  }, \"Save\")));\n}\n\nconst mapStateToProps = state => {\n  return {\n    mainState: state.mainReducer\n  };\n};\n\nexport default connect(mapStateToProps, actions)(EditProfile);","map":{"version":3,"sources":["/Users/apple/Documents/GIT/blogGit/blogGit/src/components/Forms/EditProfile.jsx"],"names":["React","Redirect","connect","useForm","ServiceApi","actions","EditProfile","mainState","logIn","register","handleSubmit","errors","isLogged","myService","token","email","username","loggedInfo","user","onSubmit","data","updateUser","then","res","required","minLength","value","message","maxLength","pattern","password","url","mapStateToProps","state","mainReducer"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { useForm } from 'react-hook-form';\nimport './signUp.scss';\nimport ServiceApi from '../../services/serviceApi';\nimport * as actions from '../../Redux/Actions/actions';\n\nfunction EditProfile({ mainState, logIn }) {\n\tconst { register, handleSubmit, errors } = useForm();\n\tif (!mainState.isLogged) {\n\t\treturn <Redirect to=\"/\" />;\n\t}\n\tconst myService = new ServiceApi();\n\n\tconst { token, email, username } = mainState.loggedInfo.user;\n\n\tconst onSubmit = (data) => {\n\t\tmyService.updateUser(data, token).then((res) => {\n\t\t\tlogIn(res);\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"sign_up\">\n\t\t\t<form onSubmit={handleSubmit(onSubmit)} className=\"sign_up_form form\">\n\t\t\t\t<div className=\"form__header-container\">\n\t\t\t\t\t<h1 className=\"form__header\">Edit Profile</h1>\n\t\t\t\t</div>\n\t\t\t\t<label className=\"form__input-group\">\n\t\t\t\t\t<span className={`form__input-label' + ${errors.username ? ' form__input-label--error' : null}`}>\n\t\t\t\t\t\tUsername\n\t\t\t\t\t</span>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tdefaultValue={username}\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\tplaceholder=\"DefaultUsername\"\n\t\t\t\t\t\tclassName={`form__input ${errors.username ? ' form__input--error' : null}`}\n\t\t\t\t\t\tref={register({\n\t\t\t\t\t\t\trequired: 'Введите логин',\n\t\t\t\t\t\t\tminLength: { value: 3, message: 'Логин должен быть от 3 до 20 символов' },\n\t\t\t\t\t\t\tmaxLength: { value: 20, message: 'Логин должен быть от 3 до 20 символов' }\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t\t{errors.username && (\n\t\t\t\t\t\t<span className=\"form__input-label form__input-label--error\">{errors.username.message}</span>\n\t\t\t\t\t)}\n\t\t\t\t</label>\n\t\t\t\t<label className=\"form__input-group\">\n\t\t\t\t\t<span className=\"form__input-label\">Email address</span>\n\t\t\t\t\t<input\n\t\t\t\t\t\tdefaultValue={email}\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tplaceholder=\"Default@value.com\"\n\t\t\t\t\t\tclassName=\"form__input\"\n\t\t\t\t\t\tref={register({\n\t\t\t\t\t\t\trequired: 'Введите email',\n\t\t\t\t\t\t\tpattern: {\n\t\t\t\t\t\t\t\tvalue: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n\t\t\t\t\t\t\t\tmessage: 'Введите корректный email'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t\t{errors.email && (\n\t\t\t\t\t\t<span className=\"form__input-label form__input-label--error\">{errors.email.message}</span>\n\t\t\t\t\t)}\n\t\t\t\t</label>\n\t\t\t\t<label className=\"form__input-group\">\n\t\t\t\t\t<span className=\"form__input-label\">New password</span>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tplaceholder=\"New password\"\n\t\t\t\t\t\tclassName=\"form__input\"\n\t\t\t\t\t\tref={register({\n\t\t\t\t\t\t\trequired: 'Введите пароль',\n\t\t\t\t\t\t\tminLength: { value: 6, message: 'Пароль должен быть от 6 до 40 символов' },\n\t\t\t\t\t\t\tmaxLength: { value: 40, message: 'Пароль должен быть от 6 до 40 символов' }\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t\t{errors.password && (\n\t\t\t\t\t\t<span className=\"form__input-label form__input-label--error\">{errors.password.message}</span>\n\t\t\t\t\t)}\n\t\t\t\t</label>\n\t\t\t\t<label className=\"form__input-group\">\n\t\t\t\t\t<span className=\"form__input-label\">Avatar image (url)</span>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t\tname=\"url\"\n\t\t\t\t\t\tplaceholder=\"Avatar image\"\n\t\t\t\t\t\tclassName=\"form__input\"\n\t\t\t\t\t\tref={register({\n\t\t\t\t\t\t\trequired: 'Введите ссылку'\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t\t{errors.url && (\n\t\t\t\t\t\t<span className=\"form__input-label form__input-label--error\">{errors.url.message}</span>\n\t\t\t\t\t)}\n\t\t\t\t</label>\n\n\t\t\t\t<button type=\"submit\" className=\"form__submit mg-top--10px mg-bottom--40px\">\n\t\t\t\t\tSave\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tmainState: state.mainReducer\n\t};\n};\n\nexport default connect(mapStateToProps, actions)(EditProfile);\n"]},"metadata":{},"sourceType":"module"}