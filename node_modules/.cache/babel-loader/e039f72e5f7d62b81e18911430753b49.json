{"ast":null,"code":"import _slicedToArray from\"/Users/apple/Documents/GIT/blogGit/blogGit/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{connect}from'react-redux';import{Pagination,Spin,Alert}from'antd';import'antd/dist/antd.css';import{LoadingOutlined}from'@ant-design/icons';import'./articleList.scss';import Article from'../Article/Article';import*as actions from'../../Redux/Actions/actions';function renderArticles(list){if(list){return list.map(function(article){return/*#__PURE__*/React.createElement(Article,{key:article.slug,data:article});});}return null;}function ArticleList(_ref){var articleList=_ref.articleList,loadArticles=_ref.loadArticles,mainState=_ref.mainState;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];useEffect(function(){if(mainState.isLogged){var token=mainState.loggedInfo.user.token;loadArticles(page,token);}else{loadArticles(page);}},[page]);var articles=articleList.articlesState.articles;function onChange(pageNumber){setPage(pageNumber);}if(articles.isError){return/*#__PURE__*/React.createElement(\"div\",{className:\"articles\"},/*#__PURE__*/React.createElement(Alert,{message:\"\\u041F\\u0440\\u043E\\u0438\\u0437\\u043E\\u0448\\u043B\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430. \\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u0435 \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0443\",type:\"error\"}));}if(!articleList.isLoading){return/*#__PURE__*/React.createElement(\"div\",{className:\"articles\"},renderArticles(articles),/*#__PURE__*/React.createElement(\"div\",{className:\"paginator\"},/*#__PURE__*/React.createElement(Pagination,{size:\"small\",total:500,onChange:onChange,showSizeChanger:false})));}else{var antIcon=/*#__PURE__*/React.createElement(LoadingOutlined,{style:{fontSize:56},spin:true});return/*#__PURE__*/React.createElement(\"div\",{className:\"articles\"},/*#__PURE__*/React.createElement(Spin,{indicator:antIcon}),/*#__PURE__*/React.createElement(\"div\",{className:\"paginator\"},/*#__PURE__*/React.createElement(Pagination,{size:\"small\",total:500,showSizeChanger:false})));}}var mapStateToProps=function mapStateToProps(state){return{articleList:state.articalListReducer,mainState:state.mainReducer};};export default connect(mapStateToProps,actions)(ArticleList);","map":{"version":3,"sources":["/Users/apple/Documents/GIT/blogGit/blogGit/src/components/ArticleList/ArticleList.jsx"],"names":["React","useEffect","useState","connect","Pagination","Spin","Alert","LoadingOutlined","Article","actions","renderArticles","list","map","article","slug","ArticleList","articleList","loadArticles","mainState","page","setPage","isLogged","token","loggedInfo","user","articles","articlesState","onChange","pageNumber","isError","isLoading","antIcon","fontSize","mapStateToProps","state","articalListReducer","mainReducer"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Pagination, Spin, Alert } from 'antd';\nimport 'antd/dist/antd.css';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport './articleList.scss';\nimport Article from '../Article/Article';\nimport * as actions from '../../Redux/Actions/actions';\n\nfunction renderArticles(list) {\n\tif (list) {\n\t\treturn list.map((article) => {\n\t\t\treturn <Article key={article.slug} data={article} />;\n\t\t});\n\t}\n\treturn null;\n}\n\nfunction ArticleList({ articleList, loadArticles, mainState }) {\n\tconst [ page, setPage ] = useState(1);\n\tuseEffect(\n\t\t() => {\n\t\t\tif (mainState.isLogged) {\n\t\t\t\tconst token = mainState.loggedInfo.user.token;\n\t\t\t\tloadArticles(page, token);\n\t\t\t} else {\n\t\t\t\tloadArticles(page);\n\t\t\t}\n\t\t},\n\t\t[ page ]\n\t);\n\n\tconst { articles } = articleList.articlesState;\n\n\tfunction onChange(pageNumber) {\n\t\tsetPage(pageNumber);\n\t}\n\n\tif (articles.isError) {\n\t\treturn (\n\t\t\t<div className=\"articles\">\n\t\t\t\t<Alert message=\"Произошла ошибка. Обновите страницу\" type=\"error\" />\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif (!articleList.isLoading) {\n\t\treturn (\n\t\t\t<div className=\"articles\">\n\t\t\t\t{renderArticles(articles)}\n\t\t\t\t<div className=\"paginator\">\n\t\t\t\t\t<Pagination size=\"small\" total={500} onChange={onChange} showSizeChanger={false} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\tconst antIcon = <LoadingOutlined style={{ fontSize: 56 }} spin />;\n\t\treturn (\n\t\t\t<div className=\"articles\">\n\t\t\t\t<Spin indicator={antIcon} />\n\t\t\t\t<div className=\"paginator\">\n\t\t\t\t\t<Pagination size=\"small\" total={500} showSizeChanger={false} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tarticleList: state.articalListReducer,\n\t\tmainState: state.mainReducer\n\t};\n};\n\nexport default connect(mapStateToProps, actions)(ArticleList);\n"]},"metadata":{},"sourceType":"module"}